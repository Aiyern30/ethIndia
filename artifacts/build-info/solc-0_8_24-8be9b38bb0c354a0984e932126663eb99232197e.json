{
  "_format": "hh3-sol-build-info-1",
  "id": "solc-0_8_24-8be9b38bb0c354a0984e932126663eb99232197e",
  "solcVersion": "0.8.24",
  "solcLongVersion": "0.8.24+commit.e11b9ed9",
  "userSourceNameMap": {
    "contracts/Marketplace.sol": "project/contracts/Marketplace.sol"
  },
  "input": {
    "language": "Solidity",
    "settings": {
      "evmVersion": "shanghai",
      "outputSelection": {
        "*": {
          "": [
            "ast"
          ],
          "*": [
            "abi",
            "evm.bytecode",
            "evm.deployedBytecode",
            "evm.methodIdentifiers",
            "metadata"
          ]
        }
      },
      "remappings": []
    },
    "sources": {
      "project/contracts/Marketplace.sol": {
        "content": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.0;\r\n\r\ncontract Marketplace {\r\n    struct Item {\r\n        uint256 id;\r\n        address seller;\r\n        address owner;\r\n        string name;\r\n        uint256 price;\r\n        bool forSale;\r\n    }\r\n\r\n    uint256 public itemCount;\r\n    mapping(uint256 => Item) public items;\r\n\r\n    event ItemListed(uint256 id, address seller, string name, uint256 price);\r\n    event ItemBought(uint256 id, address buyer, uint256 price);\r\n    event ItemTransferred(uint256 id, address from, address to);\r\n\r\n    function listItem(string memory name, uint256 price) public {\r\n        itemCount++;\r\n        items[itemCount] = Item(\r\n            itemCount,\r\n            msg.sender,\r\n            msg.sender,\r\n            name,\r\n            price,\r\n            true\r\n        );\r\n        emit ItemListed(itemCount, msg.sender, name, price);\r\n    }\r\n\r\n    function buyItem(uint256 id) public payable {\r\n        Item storage item = items[id];\r\n        require(item.forSale, \"Item not for sale\");\r\n        require(msg.value >= item.price, \"Insufficient payment\");\r\n        require(item.owner != msg.sender, \"Cannot buy your own item\");\r\n        address seller = item.owner;\r\n        item.owner = msg.sender;\r\n        item.forSale = false;\r\n        payable(seller).transfer(item.price);\r\n        emit ItemBought(id, msg.sender, item.price);\r\n    }\r\n\r\n    function transferItem(uint256 id, address to) public {\r\n        Item storage item = items[id];\r\n        require(item.owner == msg.sender, \"Not the owner\");\r\n        item.owner = to;\r\n        emit ItemTransferred(id, msg.sender, to);\r\n    }\r\n\r\n    function setForSale(uint256 id, bool forSale, uint256 price) public {\r\n        Item storage item = items[id];\r\n        require(item.owner == msg.sender, \"Not the owner\");\r\n        item.forSale = forSale;\r\n        item.price = price;\r\n    }\r\n}\r\n"
      }
    }
  }
}